{"ast":null,"code":"var _jsxFileName = \"D:\\\\Repositories\\\\CRTReact\\\\to_do_application\\\\src\\\\Components\\\\TaskHolder\\\\TaskHolder.jsx\";\nimport { Component } from 'react';\nimport './TaskHolder.css';\nimport { Selector } from '../Selector/Selector';\nimport { TaskFilterOptions, TaskFilterFunctions } from '../../Constants/Constants';\nimport { TaskController } from \"./TaskController/TaskController\";\nimport { Task } from \"../Task/Task\";\nimport { addLodaing } from '../../HOCs/LoaderHOC';\nimport { ThemeContext } from '../../contexts/ThemeContext';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskWithLoading = addLodaing(Task);\n_c = TaskWithLoading;\nexport class TaskHolder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tasks: [],\n      taskFilterName: 'All'\n    };\n    this.addTaskHandler = this.addTaskHandler.bind(this);\n    this.removeTaskHandler = this.removeTaskHandler.bind(this);\n    this.changeFilterHandler = this.changeFilterHandler.bind(this);\n    this.changeDoneTaskHandler = this.changeDoneTaskHandler.bind(this);\n  }\n\n  changeDoneTaskHandler(taskId) {\n    this.setState(prevState => {\n      return {\n        tasks: prevState.tasks.map(initTask => initTask.id === taskId ? { ...initTask,\n          done: !initTask.done\n        } : initTask)\n      };\n    });\n  }\n\n  changeFilterHandler(e) {\n    this.setState({\n      taskFilterName: e.target.value\n    });\n  }\n\n  removeTaskHandler(taskId) {\n    this.setState({\n      tasks: this.state.tasks.filter(displayTask => displayTask.id !== taskId)\n    });\n  }\n\n  addTaskHandler(task) {\n    const unique = this.state.tasks.every(instTask => instTask.title !== task.title);\n\n    if (!unique) {\n      alert('Такое задание уже существует');\n      return;\n    }\n\n    this.setState(prevState => {\n      {\n        tasks: [...prevState.tasks, task];\n      }\n    });\n  }\n\n  render() {\n    const {\n      tasks,\n      taskFilterName\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(ThemeContext.Consumer, {\n      children: value => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `TaskHolder ${value}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"MainInfo\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u044F\\u043C\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TaskController, {\n            addTaskParentHandler: this.addTaskHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Selector, {\n            title: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C\",\n            options: TaskFilterOptions,\n            changeValueParentHandler: this.changeFilterHandler,\n            parentValue: this.state.taskFilterName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [...tasks].filter(TaskFilterFunctions[taskFilterName]).map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(TaskWithLoading, { ...task,\n              changeDoneTaskParentHandler: this.changeDoneTaskHandler,\n              removeTaskParentHandler: this.removeTaskHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 93\n            }, this)\n          }, task.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 87\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskWithLoading\");","map":{"version":3,"sources":["D:/Repositories/CRTReact/to_do_application/src/Components/TaskHolder/TaskHolder.jsx"],"names":["Component","Selector","TaskFilterOptions","TaskFilterFunctions","TaskController","Task","addLodaing","ThemeContext","PropTypes","TaskWithLoading","TaskHolder","constructor","props","state","tasks","taskFilterName","addTaskHandler","bind","removeTaskHandler","changeFilterHandler","changeDoneTaskHandler","taskId","setState","prevState","map","initTask","id","done","e","target","value","filter","displayTask","task","unique","every","instTask","title","alert","render"],"mappings":"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","sourcesContent":["import {Component} from 'react'\r\nimport './TaskHolder.css'\r\nimport { Selector } from '../Selector/Selector';\r\nimport {TaskFilterOptions , TaskFilterFunctions} from '../../Constants/Constants';\r\nimport {TaskController} from \"./TaskController/TaskController\";\r\nimport {Task} from \"../Task/Task\";\r\nimport { addLodaing } from '../../HOCs/LoaderHOC';\r\nimport { ThemeContext } from '../../contexts/ThemeContext';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TaskWithLoading = addLodaing(Task);\r\n\r\nexport class TaskHolder extends  Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state ={\r\n            tasks:[ ],\r\n            taskFilterName:'All'\r\n        };\r\n\r\n        this.addTaskHandler = this.addTaskHandler.bind(this);\r\n        this.removeTaskHandler = this.removeTaskHandler.bind(this);\r\n        this.changeFilterHandler = this.changeFilterHandler.bind(this);\r\n        this.changeDoneTaskHandler = this.changeDoneTaskHandler.bind(this);\r\n    }\r\n\r\n    changeDoneTaskHandler(taskId){\r\n        this.setState(prevState=>{\r\n            return {tasks: prevState.tasks.map(initTask => initTask.id === taskId ? {...initTask,done:!initTask.done}:initTask)}\r\n        });\r\n    }\r\n\r\n    changeFilterHandler(e){\r\n        this.setState({taskFilterName:e.target.value});\r\n    }\r\n\r\n    removeTaskHandler(taskId) {\r\n        this.setState({tasks: this.state.tasks.filter(displayTask => displayTask.id !== taskId)})\r\n    }\r\n\r\n    addTaskHandler(task){\r\n        const unique = this.state.tasks.every(instTask => instTask.title !== task.title)\r\n        if(!unique){\r\n            alert('Такое задание уже существует')\r\n            return;\r\n        }\r\n        this.setState(prevState=>{{tasks:[...prevState.tasks,task ]}});\r\n    }\r\n\r\n    render() {\r\n    const {tasks,taskFilterName} = this.state;\r\n\r\n    return <ThemeContext.Consumer>{value =>\r\n            <div className={`TaskHolder ${value}`}>\r\n                <div className='MainInfo'>\r\n                    <h2>Управление заданиями</h2>\r\n                    <TaskController addTaskParentHandler = {this.addTaskHandler}/>\r\n                    <Selector title='Показать' \r\n                                    options={TaskFilterOptions}\r\n                                    changeValueParentHandler = {this.changeFilterHandler}\r\n                                    parentValue ={this.state.taskFilterName} />\r\n                </div>\r\n                <ul>\r\n                    {[...tasks].filter(TaskFilterFunctions[taskFilterName]).map(task=><li key = {task.id}>\r\n                                                                                            <TaskWithLoading {...task}\r\n                                                                                            changeDoneTaskParentHandler = {this.changeDoneTaskHandler}\r\n                                                                                            removeTaskParentHandler = {this.removeTaskHandler}/> \r\n                                                                                        </li>)}\r\n                </ul>\r\n            </div> } \r\n        </ThemeContext.Consumer>\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}