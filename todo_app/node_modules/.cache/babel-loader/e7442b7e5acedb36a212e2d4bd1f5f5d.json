{"ast":null,"code":"var _jsxFileName = \"D:\\\\Repositories\\\\CRTReact\\\\to_do_application\\\\src\\\\Components\\\\TaskHolder\\\\TaskHolder.jsx\";\nimport { Component } from 'react';\nimport './TaskHolder.css';\nimport { TaskFilterSelector } from \"./TaskFilterSelector/TaskFilterSelector\";\nimport { TaskController } from \"./TaskController/TaskController\";\nimport { Task } from \"../Task/Task\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TaskHolder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tasks: [],\n      taskFilter: '(task)=>task'\n    };\n    this.addTaskHandler = this.addTaskHandler.bind(this);\n    this.removeTaskHandler = this.removeTaskHandler.bind(this);\n    this.changeFilterHandler = this.changeFilterHandler.bind(this);\n    this.changeDoneTaskHandler = this.changeDoneTaskHandler.bind(this);\n  }\n\n  changeDoneTaskHandler(taskId) {\n    this.setState({\n      tasks: this.state.tasks.map(initTask => initTask.id === taskId ? { ...initTask,\n        done: !initTask.done\n      } : initTask)\n    });\n  }\n\n  changeFilterHandler(e) {\n    this.setState({\n      taskFilter: e.target.value\n    });\n  }\n\n  removeTaskHandler(taskId) {\n    this.setState({\n      tasks: this.state.tasks.filter(displayTask => displayTask.id !== taskId)\n    });\n  }\n\n  addTaskHandler(task) {\n    const unique = this.state.tasks.every(instTask => instTask.title !== task.title);\n\n    if (!unique) {\n      alert('Такое задание уже существует');\n      return;\n    }\n\n    this.setState(prevState => {\n      return {\n        tasks: [...prevState.tasks, task]\n      };\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"TaskHolder\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"MainInfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u044F\\u043C\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(TaskController, {\n          parent: this\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(TaskFilterSelector, {\n          parentChangeFilterHandler: this.changeFilterHandler,\n          parentFilterValue: this.state.taskFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [...this.state.tasks].filter(eval(this.state.taskFilter)).map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Task, { ...task\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 97\n          }, this)\n        }, task.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 94\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport { TaskHolder };","map":{"version":3,"sources":["D:/Repositories/CRTReact/to_do_application/src/Components/TaskHolder/TaskHolder.jsx"],"names":["Component","TaskFilterSelector","TaskController","Task","TaskHolder","constructor","props","state","tasks","taskFilter","addTaskHandler","bind","removeTaskHandler","changeFilterHandler","changeDoneTaskHandler","taskId","setState","map","initTask","id","done","e","target","value","filter","displayTask","task","unique","every","instTask","title","alert","prevState","render","eval"],"mappings":"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","sourcesContent":["import {Component} from 'react'\r\nimport './TaskHolder.css'\r\nimport {TaskFilterSelector} from \"./TaskFilterSelector/TaskFilterSelector\";\r\nimport {TaskController} from \"./TaskController/TaskController\";\r\nimport {Task} from \"../Task/Task\";\r\n\r\nclass TaskHolder extends  Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state ={\r\n            tasks:[ ],\r\n            taskFilter:'(task)=>task'\r\n        };\r\n\r\n        this.addTaskHandler = this.addTaskHandler.bind(this);\r\n        this.removeTaskHandler = this.removeTaskHandler.bind(this);\r\n        this.changeFilterHandler = this.changeFilterHandler.bind(this);\r\n        this.changeDoneTaskHandler = this.changeDoneTaskHandler.bind(this);\r\n    }\r\n\r\n    changeDoneTaskHandler(taskId){\r\n        this.setState({tasks: this.state.tasks.map(initTask => initTask.id === taskId ? {...initTask,done:!initTask.done}:initTask )})\r\n    }\r\n\r\n    changeFilterHandler(e){\r\n        this.setState({taskFilter:e.target.value});\r\n    }\r\n\r\n    removeTaskHandler(taskId) {\r\n        this.setState({tasks: this.state.tasks.filter(displayTask => displayTask.id !== taskId)})\r\n    }\r\n\r\n    addTaskHandler(task){\r\n        const unique = this.state.tasks.every(instTask => instTask.title !== task.title)\r\n        if(!unique){\r\n            alert('Такое задание уже существует')\r\n            return;\r\n        }\r\n        this.setState((prevState)=>{return {tasks:[...prevState.tasks,task ]}});\r\n    }\r\n\r\n    render() {\r\n        return <div className='TaskHolder'>\r\n                    <div className='MainInfo'>\r\n                        <h2>Управление заданиями</h2>\r\n                        <TaskController parent = {this}/>\r\n                        <TaskFilterSelector parentChangeFilterHandler = {this.changeFilterHandler}\r\n                                                parentFilterValue ={this.state.taskFilter} />\r\n                    </div>\r\n                    <ul>\r\n                        {[...this.state.tasks].filter(eval(this.state.taskFilter)).map(task=><li key = {task.id}>\r\n                                                                                                <Task {...task}/> \r\n                                                                                            </li>)}\r\n                    </ul>\r\n               </div>\r\n    }\r\n}\r\n\r\nexport {TaskHolder}\r\n"]},"metadata":{},"sourceType":"module"}